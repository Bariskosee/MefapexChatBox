# üîí MEFAPEX ChatBot - Enhanced Security Configuration Template
# Copy this file to .env and set your own values

# üö® CRITICAL SECURITY SETTINGS
# Generate a strong SECRET_KEY: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-256-bit-secret-key-here-change-this

# Environment (development/production)
ENVIRONMENT=development
DEBUG=False

# ÔøΩ DEMO USER SECURITY (PRODUCTION WARNING)
# PRODUCTION: Set DEMO_USER_ENABLED=false for security
DEMO_USER_ENABLED=true
DEMO_PASSWORD=1234
# Force demo in production (NOT RECOMMENDED)
FORCE_DEMO_IN_PRODUCTION=false

# ÔøΩüîê PASSWORD POLICY ENFORCEMENT
MIN_PASSWORD_LENGTH=8
MAX_PASSWORD_LENGTH=128
REQUIRE_UPPERCASE=true
REQUIRE_LOWERCASE=true
REQUIRE_NUMBERS=true
REQUIRE_SPECIAL_CHARS=true

# üõ°Ô∏è INPUT VALIDATION LIMITS
MAX_MESSAGE_LENGTH=1000
MIN_MESSAGE_LENGTH=2
MAX_USERNAME_LENGTH=50
MIN_USERNAME_LENGTH=3

# üîê JWT Configuration
ACCESS_TOKEN_EXPIRE_MINUTES=30
ALGORITHM=HS256

# üåê STRICT CORS & HOST SECURITY
# PRODUCTION: NO WILDCARDS (*) ALLOWED - Specify exact domains
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000,https://yourdomain.com
ALLOWED_HOSTS=localhost,127.0.0.1,yourdomain.com

# üö¶ ENHANCED RATE LIMITING
RATE_LIMIT_REQUESTS=200         # General requests per minute per IP
RATE_LIMIT_CHAT=100             # Chat requests per minute per IP
MAX_LOGIN_ATTEMPTS=5            # Max failed login attempts before blocking
BLOCK_DURATION_MINUTES=15       # How long to block IPs after failed attempts

# ü§ñ AI Services
USE_OPENAI=false
USE_HUGGINGFACE=true
OPENAI_API_KEY=your-openai-api-key-here

# üóÑÔ∏è Database Configuration
QDRANT_HOST=localhost
QDRANT_PORT=6333

# üîí HTTPS & SSL (Production)
FORCE_HTTPS=false              # Set to true in production with SSL
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem

# üìä Monitoring & Logging
LOG_LEVEL=INFO                 # DEBUG, INFO, WARNING, ERROR
LOG_FILE_PATH=/var/log/mefapex/app.log
ENABLE_MEMORY_MONITORING=true

# üõ°Ô∏è Additional Security Headers
ENABLE_SECURITY_HEADERS=true
CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'

# üö® Production Security Checklist:
# ‚úÖ Change SECRET_KEY to a strong random value
# ‚úÖ Set ENVIRONMENT=production
# ‚úÖ Set DEBUG=False  
# ‚úÖ Configure ALLOWED_ORIGINS with specific domains (no wildcards)
# ‚úÖ Configure ALLOWED_HOSTS with your domain
# ‚úÖ Set up HTTPS with SSL certificates
# ‚úÖ Configure proper logging
# ‚úÖ Set strong rate limits
# ‚úÖ Review and test all security measures

# ===================================
# üóÑÔ∏è DATABASE CONFIGURATION (Legacy)
# ===================================
# For SQLite (development/small production)
DATABASE_URL=sqlite:///./mefapex.db

# For PostgreSQL (recommended for production)
# DATABASE_URL=postgresql://username:password@localhost:5432/mefapex_db

# Database connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ===================================
# ü§ñ AI SERVICE CONFIGURATION (Legacy)
# ===================================
# Hugging Face Configuration  
HUGGINGFACE_MODEL=microsoft/DialoGPT-small
HUGGINGFACE_CACHE_DIR=./models_cache

# ===================================
# üîç QDRANT VECTOR DATABASE (Legacy)
# ===================================
QDRANT_API_KEY=your-qdrant-api-key-if-needed

# ===================================
# üìä MONITORING & PERFORMANCE (Legacy)
# ===================================
# Memory monitoring
MEMORY_MONITOR_ENABLED=true
MEMORY_THRESHOLD_MB=1024
MEMORY_CHECK_INTERVAL=60

# Cache configuration
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE=1000

# ===================================
# üîå WEBSOCKET CONFIGURATION (Legacy)
# ===================================
WS_MAX_CONNECTIONS=100
WS_HEARTBEAT_INTERVAL=30

# ===================================
# üöÄ SERVER CONFIGURATION (Legacy)
# ===================================
HOST=0.0.0.0
PORT=8000
WORKERS=4

# ===================================
# üìß NOTIFICATION SETTINGS (Legacy)
# ===================================
# Email settings for alerts (optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
ALERT_EMAIL=admin@yourdomain.com

# ===================================
# üîî ALERT THRESHOLDS (Legacy)
# ===================================
CPU_ALERT_THRESHOLD=85
MEMORY_ALERT_THRESHOLD=90
DISK_ALERT_THRESHOLD=90
DB_RESPONSE_ALERT_MS=2000

# ===================================
# üìÅ FILE STORAGE (Legacy)
# ===================================
UPLOAD_MAX_SIZE_MB=10
ALLOWED_FILE_TYPES=.txt,.pdf,.doc,.docx
UPLOAD_DIRECTORY=./uploads

# Legacy MySQL Configuration (if needed)
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=your_mysql_password_here
MYSQL_DATABASE=mefapex_chatbot
