# üóÑÔ∏è MEFAPEX Production Database Configuration
# =============================================
# Copy this file to .env and configure with your actual values

# üöÄ Application Environment
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# üîê Security Configuration
SECRET_KEY=your-super-secure-secret-key-change-this-immediately-for-production-use-at-least-32-characters
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com

# üóÑÔ∏è Database Configuration (Choose ONE)
# =====================================

# Option 1: PostgreSQL (RECOMMENDED for production)
# -------------------------------------------------
DATABASE_TYPE=postgresql
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=mefapex
POSTGRES_PASSWORD=your_very_secure_postgres_password_here
POSTGRES_DB=mefapex_chatbot

# Alternative: Full PostgreSQL URL (overrides individual settings)
# DATABASE_URL=postgresql://mefapex:your_password@localhost:5432/mefapex_chatbot

# Option 2: MySQL/MariaDB (Alternative for production)
# ---------------------------------------------------
# DATABASE_TYPE=mysql
# MYSQL_HOST=localhost
# MYSQL_PORT=3306
# MYSQL_USER=mefapex
# MYSQL_PASSWORD=your_very_secure_mysql_password_here
# MYSQL_DATABASE=mefapex_chatbot

# Alternative: Full MySQL URL (overrides individual settings)
# DATABASE_URL=mysql+pymysql://mefapex:your_password@localhost:3306/mefapex_chatbot

# Option 3: SQLite (DEVELOPMENT ONLY - NOT for production)
# --------------------------------------------------------
# DATABASE_TYPE=sqlite
# SQLITE_PATH=./data/mefapex.db
# FORCE_SQLITE_PRODUCTION=false  # Set to 'true' only for testing (NOT recommended)

# ü§ñ AI Configuration
# ==================

# OpenAI Configuration
USE_OPENAI=false
OPENAI_API_KEY=your_openai_api_key_here

# Hugging Face Configuration
USE_HUGGINGFACE=true
HUGGINGFACE_CACHE_DIR=./models_cache

# üóÇÔ∏è Vector Database (Qdrant)
# ===========================
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_API_KEY=  # Optional for secured Qdrant instances

# üì¶ Cache Configuration (Redis)
# ==============================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=  # Optional for secured Redis instances
REDIS_DB=0

# üîí Security Settings
# ===================

# Rate Limiting
RATE_LIMIT_REQUESTS=200          # Requests per minute per IP
RATE_LIMIT_CHAT=100             # Chat requests per minute per IP
MAX_LOGIN_ATTEMPTS=5            # Failed login attempts before blocking
BLOCK_DURATION_MINUTES=15       # IP block duration after too many failed attempts

# Authentication
ACCESS_TOKEN_EXPIRE_MINUTES=30  # JWT token expiration
MAX_MESSAGE_LENGTH=2000         # Maximum message length

# Demo User (DISABLE in production)
DEMO_USER_ENABLED=false         # Set to 'false' for production
DEMO_PASSWORD=secure_demo_password_if_needed  # Change from default '1234'

# üè≠ Performance Settings
# =======================

# Database Connection Pooling
DB_POOL_SIZE=20                 # Number of database connections
DB_MAX_OVERFLOW=30              # Additional connections when pool is full
DB_POOL_RECYCLE=3600           # Recycle connections every hour

# Application Workers
MAX_WORKERS=4                   # Number of worker processes
WORKER_CONNECTIONS=1000         # Connections per worker

# üìä Monitoring & Logging
# =======================

# Logging
LOG_FILE=/var/log/mefapex/app.log
ERROR_LOG_FILE=/var/log/mefapex/error.log

# Monitoring
PROMETHEUS_PORT=9090
ENABLE_METRICS=true

# Health Checks
HEALTH_CHECK_INTERVAL=30        # Health check interval in seconds

# üê≥ Docker Configuration
# =======================

# PostgreSQL (for docker-compose)
POSTGRES_PASSWORD=change_this_postgresql_password_for_production

# PgAdmin (for development/admin access)
PGADMIN_PASSWORD=change_this_pgadmin_password_for_admin_access

# üåê Production Deployment
# ========================

# Domain and SSL
DOMAIN=yourdomain.com
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/yourdomain.crt
SSL_KEY_PATH=/etc/ssl/private/yourdomain.key

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *       # Daily at 2 AM (cron format)
BACKUP_RETENTION_DAYS=30        # Keep backups for 30 days
BACKUP_S3_BUCKET=mefapex-backups  # Optional S3 bucket for backups

# üìß Email Configuration (Optional)
# =================================
SMTP_HOST=smtp.yourdomain.com
SMTP_PORT=587
SMTP_USERNAME=noreply@yourdomain.com
SMTP_PASSWORD=your_email_password
SMTP_USE_TLS=true

# üîî Notification Settings
# ========================
ADMIN_EMAIL=admin@yourdomain.com
ENABLE_ERROR_NOTIFICATIONS=true
ENABLE_SECURITY_ALERTS=true

# üìà Analytics (Optional)
# =======================
GOOGLE_ANALYTICS_ID=UA-XXXXXXXXX-X  # Optional Google Analytics
MIXPANEL_TOKEN=your_mixpanel_token   # Optional Mixpanel

# =============================================================================
# üö® PRODUCTION SECURITY CHECKLIST
# =============================================================================
# 
# Before deploying to production, ensure:
# 
# ‚úÖ Changed all default passwords
# ‚úÖ Set strong SECRET_KEY (32+ characters)
# ‚úÖ Configured production database (PostgreSQL/MySQL)
# ‚úÖ Set proper CORS_ORIGINS (no wildcards)
# ‚úÖ Disabled demo user (DEMO_USER_ENABLED=false)
# ‚úÖ Enabled HTTPS (SSL_ENABLED=true)
# ‚úÖ Set up database backups
# ‚úÖ Configured monitoring and alerts
# ‚úÖ Set appropriate rate limits
# ‚úÖ Reviewed and tested all security settings
# 
# =============================================================================
