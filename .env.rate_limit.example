# üîß MEFAPEX Rate Limiter Configuration Example
# Redis-based distributed rate limiting for multiple app instances

# ================================
# üö¶ Rate Limiting Settings  
# ================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=200
RATE_LIMIT_CHAT=100

# ================================
# üì° Redis Rate Limiter Configuration
# ================================
RATE_LIMIT_USE_REDIS=true
RATE_LIMIT_REDIS_HOST=localhost
RATE_LIMIT_REDIS_PORT=6379
RATE_LIMIT_REDIS_DB=1
RATE_LIMIT_REDIS_PASSWORD=
# RATE_LIMIT_REDIS_URL=redis://localhost:6379/1

# ================================
# ‚è∞ Rate Limiting Windows & Cleanup
# ================================
RATE_LIMIT_WINDOW_SECONDS=60
RATE_LIMIT_CLEANUP_INTERVAL=300
RATE_LIMIT_KEY_PREFIX=rate_limit

# ================================
# üîÑ Fallback Configuration
# ================================
RATE_LIMIT_FALLBACK_MEMORY=true
RATE_LIMIT_MEMORY_CLEANUP=60

# ================================
# Environment-specific Recommendations
# ================================

# Development environment:
# RATE_LIMIT_REQUESTS=50
# RATE_LIMIT_CHAT=25
# RATE_LIMIT_USE_REDIS=false  # Use memory for simplicity

# Staging environment:
# RATE_LIMIT_REQUESTS=100
# RATE_LIMIT_CHAT=50
# RATE_LIMIT_USE_REDIS=true

# Production environment (single instance):
# RATE_LIMIT_REQUESTS=200
# RATE_LIMIT_CHAT=100
# RATE_LIMIT_USE_REDIS=true
# RATE_LIMIT_FALLBACK_MEMORY=true

# Production environment (multiple instances):
# RATE_LIMIT_REQUESTS=500
# RATE_LIMIT_CHAT=250
# RATE_LIMIT_USE_REDIS=true
# RATE_LIMIT_FALLBACK_MEMORY=false  # Strict Redis enforcement

# High-traffic production:
# RATE_LIMIT_REQUESTS=1000
# RATE_LIMIT_CHAT=500
# RATE_LIMIT_WINDOW_SECONDS=60
# RATE_LIMIT_CLEANUP_INTERVAL=60

# Testing environment:
# RATE_LIMIT_REQUESTS=10
# RATE_LIMIT_CHAT=5
# RATE_LIMIT_WINDOW_SECONDS=10  # Quick testing
# RATE_LIMIT_USE_REDIS=false

# ================================
# Legacy Support (backward compatibility)
# ================================
# These are automatically mapped:
# MAX_REQUESTS_PER_MINUTE=200  # Maps to RATE_LIMIT_REQUESTS
# MAX_CHAT_REQUESTS_PER_MINUTE=100  # Maps to RATE_LIMIT_CHAT
